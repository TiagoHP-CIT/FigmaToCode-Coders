inputs:
  nodeIds:
    type: string
    default: 5188-39165
  dashboardId:
    type: string
    default: hBAh9Eh7bnc4yCfcCNRq3i
  figmaKey:
    type: string
    default: "null"
outputs:
  FigmaResult:
    type: string
    reference: ${UpdateOthersStep.output}
nodes:
- name: FigmaStep
  type: python
  source:
    type: code
    path: FigmaStep.py
  inputs:
    file_key: ${inputs.dashboardId}
    node_ids: ${inputs.nodeIds}
    token: ${inputs.figmaKey}
- name: DSKitReadPanColorStep
  type: python
  source:
    type: package
    tool: flow_core.tools.read.read
  inputs:
    filename: ./DSKit-Light/PanColor.swift
- name: DSKitReadPanColorParsedStep
  type: python
  source:
    type: code
    path: DSKitReadPanColorParsedStep.py
  inputs:
    swift_code_list: ${DSKitReadPanColorStep.output}
- name: UpdateColorStep
  type: python
  source:
    type: code
    path: UpdateColorStep.py
  inputs:
    json_obj: ${FigmaStep.output}
    string_array: ${DSKitReadPanColorParsedStep.output}
- name: DSKitReadPanFontStep
  type: python
  source:
    type: package
    tool: flow_core.tools.read.read
  inputs:
    filename: ./DSKit-Light/PanFont.swift
- name: DSKitReadPanFontParsedStep
  type: custom_llm
  source:
    type: package_with_prompt
    tool: flow_core.tools.flow_orchestrator_chat_tool.FlowOrchestratorChatCompletionTool.chat_completion
    path: DSKitReadPanFontParsedStep.jinja2
  inputs:
    model: gpt-4o-mini
    temperature: 0.2
    flow_connection: ciandt_flow_connection
    swiftCode: ${DSKitReadPanFontStep.output}
- name: UpdateFontStep
  type: python
  source:
    type: code
    path: UpdateFontStep.py
  inputs:
    json_obj: ${UpdateColorStep.output}
    json_font: ${DSKitReadPanFontParsedStep.output}
- name: UpdateOthersStep
  type: python
  source:
    type: code
    path: UpdateOthersStep.py
  inputs:
    json_obj: ${UpdateFontStep.output}
